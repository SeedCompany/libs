implicitDependencies:
  - common

targets:
  lint: {}

  version:
    options:
      commitMessageFormat: >
        release(${projectName}): ${version}
      postTargets:
        - cache:copy-assets-to-dist
        - cache:publish-npm
        - cache:publish-github
  copy-assets-to-dist:
    executor: nx:run-commands
    options:
      cwd: packages/cache
      commands:
        - command: cp package.json README.md CHANGELOG.md dist/
  publish-npm:
    options:
      distFolderPath: packages/cache/dist
  publish-github:
    options:
      tag: ${tag}
      notesStartTag: ${previousTag}
